<!DOCTYPE html>
<html>
<head>
  <title>Emoji Test</title>
<script src="http://twemoji.maxcdn.com/2/twemoji.min.js"></script>
   <meta charset="utf-8"> 
    <script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>
</head>  
<body>
    <textarea id="divy"></textarea>
    <script>
        
var ref = new Firebase('https://museleap.firebaseio.com');        
    ref.child('State');
        
        
var focusNum = 0;
var distractNum = 0;
        
ref.on("value", function(snapshot) {
  var resultsList = snapshot.val().State; 
  for(var x in resultsList){
    console.log(resultsList[x]);
      if(resultsList[x]=='Focused'){
          focusNum++;
      }
      else{
          distractNum++;
      }
  }   
    var ratio = focusNum/distractNum * 100 > 100? (focusNum/distractNum * 100)-100 : focusNum/distractNum * 100;
    console.log(ratio);
}, function (errorObject) {
  console.log("The read failed: " + errorObject.code);
});        
        
        
        
        
    (function(){
        returnEmoji('anger',0.8);
    })();
        
    

function returnEmoji(word,strength){
    
    var angerList = ["😠",'😡','💢'];        
var disgustList = ['😷','😖','😟'];
var fearList = ['😨','😱','😱'];
var joyList = ['😂','😂','😹'];
var sadnessList = ['😢','😭','😭'];
var analyticalList = ['🤔','🙄','🤓'];
var confidentList = ['😎','😉','🤑'];
var tentativeList = ['😕','🙁','😟'];
    
    var row1=[];
console.log("row1"+row1);       
var row2=[];
        console.log("row2"+row2);  
var row3=[];        
        console.log("row3"+row3);  
    
    var maxIndex = 0;
    if(strength>0.33 && strength < .66){
        maxIndex = 1;
    }
    else if(strength>0.66 && strength < 1){
        maxIndex = 2;
    }
    var emojis;
    
        switch(word){
        case 'anger':
            emojis=angerList; 
            break;
        case 'disgust':
            emojis=disgustList;
            break;
        case 'fear':
            emojis=fearList;
            break;
        case 'joy':
            emojis=joyList;
            break;    
        case 'sadness':
            emojis=sadnessList;
            break; 
         case 'analytical':
            emojis=analyticalList;
            break;
         case 'confident':
            emojis=confidentList;
            break;
         case 'tentative':
            emojis=tentativeList;
            break;    
        default:
            return '';
    }
    console.log("emojis array: "+emojis);  
    for( x = 0; x < maxIndex+1; x++){
        maxIndex>=0 ? row1[0]=emojis[0] : row1[0]=" ";    
        maxIndex>=1 ? row2[0]=emojis[1] : row2[0]=" ";    
        maxIndex>=2 ? row3[0]=emojis[2] : row3[0]=" ";    
    }
    
    console.log("row1"+row1);       
        console.log("row2"+row2);        
        console.log("row3"+row3);  
     
    divy.value=row1+'\n'+row2+'\n'+row3+'\n';
}        
    </script>
</body>    
</html>
    